sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","../model/formatter","sap/m/MessageBox","sap/m/MessagePopover","sap/m/MessageItem","sap/m/Link","sap/ui/core/Fragment"],function(e,t,r,s,a,i,l,o,n){"use strict";return e.extend("helpe.fastentryso.controller.Object_V",{formatter:s,oMessagePopover:"",contract_SalesOrganization:"",contract_DistributionChannel:"",contract_OrganizationDivision:"",contract_Matnr:"",contract_bukrs:"",salesOrder:"",onInit:function(){var e=[];e[1]={Brand:"EKO",Description:"EKO"};e[2]={Brand:"EK",Description:"EK"};var r=new t({items:e});this.getView().setModel(r,"oModelbrand");var s=new t({});this.getRouter().getRoute("object_V").attachPatternMatched(this._onObjectMatched,this);this.setModel(s,"SalesOrder");var a=new l({type:"{oModelmsg>type}",title:"{oModelmsg>title}",activeTitle:"{oModelmsg>active}",description:"{oModelmsg>description}",subtitle:"{oModelmsg>subtitle}",counter:"{oModelmsg>counter}"});this.oMessagePopover=new i({items:{path:"oModelmsg>/",template:a},activeTitlePress:function(){MessageToast.show("Active title is pressed")}});var o=new t;this.getView().setModel(o,"smartValueHelpModel")},onNavBack:function(){var e=r.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{this.getRouter().navTo("worklist",{},true)}},onPressNewLine:function(){var e=this.getView().getModel("SalesOrder").getData();e.to_OrdersChangeItems.results.push({SalesOrderItem:"",ContractOrderQuantity:"",ContractTargetQuantity:"",OpenContractQuantity:"",ContractTargetQuantityUnit:"",matnr:"",TargetQuantity:"",TargetQuantityUnit:"",oihantyp:"",oih_licin:"",inco1:"",oic_mot:this.getView().getModel("SalesOrder").getProperty("/mot"),oic_motDesc:this.getView().getModel("SalesOrder").getProperty("/motDesc")});this.getView().getModel("SalesOrder").refresh()},onPressDeleteLine:function(e){var t=this.getView().getModel("SalesOrder").getData();var r=e.getSource().getBindingContext("SalesOrder").getPath().split("/");var s=r[r.length-1];t.to_OrdersChangeItems.results.splice(s,1);this.getView().getModel("SalesOrder").refresh()},onPressCancel:function(){var e=r.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{this.getRouter().navTo("worklist",{},true)}},editSo:function(){var e=this.getView().getModel("SalesOrder").getData();var r,s,i;var l=[];i=e.to_OrdersChangeItems.results.length;if(i>0){for(r=0;r<i;r++){var o={Posnr:e.to_OrdersChangeItems.results[r].SalesOrderItem,TargetQty:e.to_OrdersChangeItems.results[r].TargetQuantity,TargetQu:e.to_OrdersChangeItems.results[r].ContractTargetQuantityUnit,Incoterms1:e.to_OrdersChangeItems.results[r].inco1,OihLicin:e.to_OrdersChangeItems.results[r].oih_licin,Zzvehicle:this.getView().getModel("SalesOrder").getData().zzvehicle,Zzvendor:this.getView().getModel("SalesOrder").getData().zzvendor,Updateflag:"U"};l.push(o)}}var n={Vbeln:this.salesOrder,ReqDateH:this.getView().getModel("SalesOrder").getData().vdatu,Bstnk:this.getView().getModel("SalesOrder").getData().bstnk,Updateflag:"U",toSOChangeItem:l,toSOChangeReturn:[]};var g=this;this.getView().getModel().create("/SalesOrderChangeSet",n,{success:function(e){g.byId("messagePopoverBtn").setVisible(true);sap.ui.core.BusyIndicator.hide();var s=[];i=e.toSOChangeReturn.results.length;for(r=0;r<i;r++){if(e.toSOChangeReturn.results[r].Type=="S"){e.toSOChangeReturn.results[r].Type="Success"}else if(e.toSOChangeReturn.results[r].Type=="W"){e.toSOChangeReturn.results[r].Type="Warning"}else if(e.toSOChangeReturn.results[r].Type=="E"){e.toSOChangeReturn.results[r].Type="Error"}var l={type:e.toSOChangeReturn.results[r].Type,title:e.toSOChangeReturn.results[r].Message,description:e.toSOChangeReturn.results[r].Message,counter:r+1};s.push(l)}var o=new t;o.setData(s);g.getView().setModel(o,"oModelmsg");g.byId("messagePopoverBtn").addDependent(g.oMessagePopover);a.success(e.toSOChangeReturn.results[3].Message,{actions:[a.Action.OK],emphasizedAction:a.Action.OK,onClose:function(){g.getRouter().navTo("worklist",{},true)}})},error:function(e){}})},onPressSave:function(){if(this.salesOrder){this.editSo()}else{var e=this.getView().getModel("SalesOrder").getData();sap.ui.core.BusyIndicator.show();var r,s,i;var l=[];i=e.to_OrdersChangeItems.results.length;if(i>0){for(r=0;r<i;r++){var o={ContractNo:this.getView().getModel("SalesOrder").getData().SalesContract,ContractItem:e.to_OrdersChangeItems.results[r].SalesOrderItem,MaterialLong:e.to_OrdersChangeItems.results[r].matnr,Zzvehicle:this.getView().getModel("SalesOrder").getData().zzvehicle,TargetQty:e.to_OrdersChangeItems.results[r].TargetQuantity,TargetQu:e.to_OrdersChangeItems.results[r].ContractTargetQuantityUnit,Zzvendor:this.getView().getModel("SalesOrder").getData().zzvendor,Zzimo:this.getView().getModel("SalesOrder").getData().zzimo,Zzdestid:this.getView().getModel("SalesOrder").getData().zzdestid,Incoterms1:e.to_OrdersChangeItems.results[r].inco1,OicMot:this.getView().getModel("SalesOrder").getProperty("/mot"),OihLicin:e.to_OrdersChangeItems.results[r].oih_licin,Oihantyp:e.to_OrdersChangeItems.results[r].oihantyp,Zzitbrand:this.getView().byId("select").getSelectedItem().getText()};l.push(o)}}var n={SalesOrg:this.getView().getModel("SalesOrder").getData().vkorg,DistrChan:this.getView().getModel("SalesOrder").getData().vtweg,Division:this.getView().getModel("SalesOrder").getData().spart,DocType:this.getView().getModel("SalesOrder").getData().auart,RefDoc:this.getView().getModel("SalesOrder").getData().SalesContract,Zzmrnssdn:this.getView().getModel("SalesOrder").getData().zzmrnssdn,Plant:this.getView().getModel("SalesOrder").getData().werks,ReqDateH:this.getView().getModel("SalesOrder").getData().vdatu,IntercompKunnr:this.getView().getModel("SalesOrder").getData().IntercompanyPartner,ShipToKunnr:this.getView().getModel("SalesOrder").getData().ShipToParty,Bstnk:this.getView().getModel("SalesOrder").getData().bstnk,Vsart:this.getView().getModel("SalesOrder").getProperty("/ShippingType"),Zzhandid:this.getView().getModel("SalesOrder").getProperty("/zzhandid"),toSOVesselsItemCreate:l,toSOVesselsCreateReturn:[]};var g=this;this.getView().getModel().create("/SOVesselsCreateSet",n,{success:function(e){g.byId("messagePopoverBtn").setVisible(true);sap.ui.core.BusyIndicator.hide();var r=[];o=e.toSOVesselsCreateReturn.results.length;for(l=0;l<o;l++){if(e.toSOVesselsCreateReturn.results[l].Type=="S"){e.toSOVesselsCreateReturn.results[l].Type="Success"}else if(e.toSOVesselsCreateReturn.results[l].Type=="W"){e.toSOVesselsCreateReturn.results[l].Type="Warning"}else if(e.toSOVesselsCreateReturn.results[l].Type=="E"){e.toSOVesselsCreateReturn.results[l].Type="Error"}var s={type:e.toSOVesselsCreateReturn.results[l].Type,title:e.toSOVesselsCreateReturn.results[l].Message,description:e.toSOVesselsCreateReturn.results[l].Message,counter:l+1};r.push(s)}var i=new t;i.setData(r);g.getView().setModel(i,"oModelmsg");g.byId("messagePopoverBtn").addDependent(g.oMessagePopover);var l,o;o=e.toSOVesselsCreateReturn.results.length;for(l=0;l<o;l++){if(e.toSOVesselsCreateReturn.results[l].Id=="V1"&&e.toSOVesselsCreateReturn.results[l].Number=="311")a.success(e.toSOVesselsCreateReturn.results[l].Message,{actions:[a.Action.OK],emphasizedAction:a.Action.OK,onClose:function(){g.getView().getModel("SalesOrder").setData()}})}},error:function(e){sap.ui.core.BusyIndicator.hide()}})}},_getDate:function(e){if(e!==null){var t=new Date(e.getTime());var r=t.getTimezoneOffset()/60;var s=t.getHours();t.setHours(s-r)}return t},onValueHelpRequest:function(e){this._oInput=e.getSource();this._onValueHelpRequest(this._oInput).open();this._onSearchValueHelp(null)},onOkValueHelp:function(e){if(this._oInput.data("onAfterSelect")){this[this._oInput.data("onAfterSelect")](e)}else{var t=e.getParameter("tokens");this._oInput.setValue(t[0].getKey())}var r=this._oInput.getId().split("input")[1].split("-")[0];if(r==="SalesContract"||r==="ContractItem"||r==="DestinationID"){this._setDefaultValues(r,t[0].getKey())}this._onValueHelpRequest("Close").close()},onSearchValueHelp:function(e){this._onSearchValueHelp(e)},onCancelValueHelp:function(){this._onValueHelpRequest("Close").close()},onAfterCloseValueHelp:function(){this._onValueHelpRequest("Destroy").destroy()},_setDefaultValues:function(e,t){var r=this;r.getView().setBusy(true);this.vInput=e;switch(e){case"ContractNumber":var s={Type:e,Key:t,Key2:""};break;case"ContractItem":s={Type:e,Key:t,Key2:this.getView().getModel("SalesOrder").getData().ContractNumber};break;case"DestinationID":s={Type:e,Key:t,Key2:""};break;default:break}this.getView().getModel().callFunction("/GetDefaultValues",{method:"GET",urlParameters:s,async:true,success:function(e){r.getView().setBusy(false);var t=r.getView().getModel("SalesOrder").getData();switch(r.vInput){case"ContractNumber":var s=JSON.parse(e.GetDefaultValues.Defaults);t.ContractValidTill=s.vdatu;t.CustomerCode=s.kunnr;break;case"ContractItem":var a=JSON.parse(e.GetDefaultValues.Defaults);t.Shipto=a.kunweAna;t.ContractItemQty=a.zmeng;t.ConsumedQty=a.kwmeng;break;case"DestinationID":var i=JSON.parse(e.GetDefaultValues.Defaults);t.SalesOrg=i.vkorg;t.Division=i.spart;t.DistChannel=i.vtweg;t.Plant=i.werks;t.SalesOrderType=i.auart;break;default:break}r.getView().getModel("SalesOrder").refresh()},error:function(e){r.getView().setBusy(false)}})},_onObjectMatched:function(e){var r=e.getParameter("arguments").objectId;var s=new t({vstel:"",zzdestid:"",kunnr:"",SalesContract:"",ContractItem:"",Solidto:"",vdatu:null,ValidityDateofSO:null,IntercompanyPartner:"",zzvehicle:"",ShipToParty:"",to_OrdersChangeItems:{results:[]}});this.getView().byId("messagePopoverBtn").setVisible(false);this.setModel(s,"SalesOrder");var a=this.getOwnerComponent().getModel("S1");this.getView().setModel(a,"S1");var i=this.getOwnerComponent().getModel("editableModel");this.getView().setModel(i,"editableModel");var l=new t;var o={Text:"Vessel/Pipeline - Create Sales Order"};var n=this.getOwnerComponent().getModel("SOModel");if(this.getOwnerComponent().getModel("SOModel").oData.SalesOrder!==undefined&&this.getOwnerComponent().getModel("SOModel").oData.SalesOrder!==null){o={Text:"Vessel/Pipeline - Edit of Sales Order "+this.getOwnerComponent().getModel("SOModel").oData.SalesOrder};if(this.getOwnerComponent().getModel("SOModel").oData.ContractValidityEndDate!==null&&this.getOwnerComponent().getModel("SOModel").oData.ContractValidityEndDate!==undefined){var g=this.getOwnerComponent().getModel("SOModel").oData.ContractValidityEndDate.toDateString();this.getOwnerComponent().getModel("SOModel").oData.ContractValidityEndDate=g}this.getView().setModel(n,"SalesOrder");this.salesOrder=this.getOwnerComponent().getModel("SOModel").oData.SalesOrder}l.setData(o,"textModel");this.getView().setModel(l,"textModel")},handleMessagePopoverPress:function(e){this.oMessagePopover.toggle(e.getSource())},buttonIconFormatter:function(){return"sap-icon://information"},buttonTypeFormatter:function(){return"Neutral"},highestSeverityMessages:function(){var e=this.buttonTypeFormatter();var t;switch(e){case"Negative":t="Error";break;case"Critical":t="Warning";break;case"Success":t="Success";break;default:t=!t?"Information":t;break}return this.getView().getModel().oData.reduce(function(e,r){return r.type===t?++e:e},0)},onValueHelpRequest:function(e){var t=e.getSource().getCustomData()[0].getValue("entitySet");var r;var s;switch(t){case"ZSD_CDS_B_CONTRACT_VH":r="SalesContract,SalesOrganization,DistributionChannel,OrganizationDivision,SalesContractValidityEndDate,SoldToParty,SoldToPartyName,SoldToPartyLand,ShipToParty,ShipToPartyName,ShipToPartyLand,bukrs_vf,bstnk";s="Sales Contract";break;case"ZSD_CDS_B_ShipTo_VH":r="ShipToParty,ShipToPartyName,ShipToPartyLand";s="ShipTo Party";break;case"ZSD_CDS_B_TL_DEST":r="Destid,Desttext,Vstel,Werks,WerksName,IsLand";s="Destination";break;case"ZSD_CDS_B_FAST_ENTRY_ITEMS":r="SalesContractItem,SalesContract,TargetQuantity,ContractOrderQuantity,OpenContractQuantity,matnr";s="Contract Items";break;case"I_UnitOfMeasure":r="UnitOfMeasure,UnitOfMeasure_Text";s="Unit Of Measure";break;case"ZSD_CDS_B_TL_DEST2":r="Vstel,Destid,Desttext,Werks,WerksName,IsLand,Vkorg,VkorgDesc,Vtweg,VtwegDesc,Spart,SpartDesc,Auart,AuartDesc";s="Loading Point";break;case"ZSD_CDS_B_ShippingType_VH":r="ShippingType,ShippingTypeDesc,ModeOfTransport,ModeOfTransportDesc";s="Mode Of Transport";break;case"ZSD_CDS_B_CARRIER_VH":r="Supplier,SupplierName,CountryCode,CompanyCode,PurchaseOrganization";s="Suppliers";break;case"ZSD_CDS_B_HANDID_VH":r="HandID,HandIDDesc";s="Handling ID";break;case"C_MM_IncotermValueHelp":r="IncotermsClassification,IncotermsClassificationName";s="Incoterm";break;case"ZSD_CDS_B_LICENSE_VH":r="licin,lctxt,lictp,matnr,ShipToParty";s="License ID";break;case"ZSD_CDS_B_HANDLINGTYPE_VH":r="HandlingType,HandlingTypeDesc,HandID";s="Handling Type";break;case"ZSD_CDS_B_IntPartner_VH":r="IntercompanyPartner,IntercompanyPartnerName,land1";s="Intercompany Partner";break;default:break}this.getView().getModel("smartValueHelpModel").setProperty("/EntitySet",t);this.getView().getModel("smartValueHelpModel").setProperty("/InitiallyVisibleFields",r);this.getOwnerComponent().getModel("searchHelpTextModel").setProperty("/searchHelpText",s);var a=this.getView();if(!this._pValueHelpDialog){this._pValueHelpDialog=n.load({id:a.getId(),name:"helpe.fastentryso.fragment.smart",controller:this}).then(function(e){a.addDependent(e);return e})}this._pValueHelpDialog.then(function(e){e.open()})},onCancelValueHelp:function(){this.byId("selectDialog").close();this._pValueHelpDialog.destroy;this._pValueHelpDialog=null;this.getView().destroyDependents()},onSelectValueHelp:function(e){var t=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[0].mProperties.text;var r=this.getView().getModel("smartValueHelpModel").getProperty("/EntitySet");switch(r){case"ZSD_CDS_B_CONTRACT_VH":this.getView().getModel("SalesOrder").setProperty("/SalesContract",t);var s=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[4].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/ContractValidityEndDate",s);var a=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/SalesOrganization",a);var i=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/DistributionChannel",i);var l=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/OrganizationDivision",l);var o=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[5].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/kunnr",o);var n=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[6].mProperties.text;var g=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[7].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/name1",n+", "+g);this.contract_SalesOrganization=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;this.contract_DistributionChannel=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;this.contract_OrganizationDivision=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].mProperties.text;this.contract_bukrs=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[11].mProperties.text;var d=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[12].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/bstnk",d);var h=this.getOwnerComponent().getModel();var u=this;h.read("/ZSD_CDS_B_FAST_ENTRY_ITEMS",{filters:[new sap.ui.model.Filter({path:"SalesContract",operator:sap.ui.model.FilterOperator.EQ,value1:t})],success:function(e,t){if(e!==undefined){var r=u.getOwnerComponent().getModel("S1");r.setData(e);u.getView().setModel(r,"S1")}},error:function(e){}});break;case"ZSD_CDS_B_FAST_ENTRY_ITEMS":var c=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results.length-1;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/SalesOrderItem",t);if(this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].getAggregation("items")!==null){var S=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].getAggregation("items")[0].getProperty("text");var p=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].getAggregation("items")[1].getProperty("text");this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/ContractOrderQuantity",S);this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/ContractTargetQuantityUnit",p)}if(this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].getAggregation("items")!==null){var O=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[4].getAggregation("items")[0].getProperty("text");var m=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[4].getAggregation("items")[1].getProperty("text");this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/OpenContractQuantity",O)}if(this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].getAggregation("items")!==null){var P=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].getAggregation("items")[0].getProperty("text");var _=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].getAggregation("items")[1].getProperty("text");this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/ContractTargetQuantity",P)}this.contract_Matnr=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[5].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/matnr",this.contract_Matnr);break;case"I_UnitOfMeasure":this.getView().getModel("SalesOrder").setProperty("/UnitOfMeasure",t);break;case"ZSD_CDS_B_TL_DEST":this.getView().getModel("SalesOrder").setProperty("/zzdestid",t);break;case"ZSD_CDS_B_ShipTo_VH":this.getView().getModel("SalesOrder").setProperty("/ShipToParty",t);var V=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;var y=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/ShipToPartyName",V+", "+y);break;case"ZSD_CDS_B_LICENSE_VH":var c=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results.length-1;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/oih_licin",t);break;case"ZSD_CDS_B_HANDLINGTYPE_VH":var c=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results.length-1;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/oihantyp",t);break;case"ZSD_CDS_B_TL_DEST2":this.getView().getModel("SalesOrder").setProperty("/vstel",t);var C=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[6].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/vkorg",C);var w=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[7].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/VkorgDesc",w);var D=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[8].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/vtweg",D);var I=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[9].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/VtwegDesc",I);var M=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[10].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/spart",M);var v=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[11].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/SpartDesc",v);var b=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[12].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/auart",b);var f=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[13].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/AuartDesc",f);var T=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/werks",T);var k=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[4].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/WerksDesc",k);break;case"ZSD_CDS_B_ShippingType_VH":var H=t;this.getView().getModel("SalesOrder").setProperty("/ShippingType",H);var z=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/ShippingTypeDesc",z);var E=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/mot",E);var x=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[3].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/motDesc",x);var R=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results;var Q=R.length;if(Q>0){var B,N;for(B=0;B<Q;B++){this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+B+"/oic_mot",E);this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+B+"/oic_motDesc",x)}}break;case"ZSD_CDS_B_CARRIER_VH":this.getView().getModel("SalesOrder").setProperty("/zzvendor",t);var Z=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;var A=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/zzvendorLand",A);this.getView().getModel("SalesOrder").setProperty("/zzvendorName",Z);break;case"C_MM_IncotermValueHelp":var c=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results.length-1;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+c+"/inco1",t);break;case"ZSD_CDS_B_HANDID_VH":this.getView().getModel("SalesOrder").setProperty("/zzhandid",t);var F=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/zzhandid_desc",F);break;case"ZSD_CDS_B_IntPartner_VH":this.getView().getModel("SalesOrder").setProperty("/IntercompanyPartner",t);var L=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[2].mProperties.text;var K=this.getView().byId("idPOSchedulePage_table0").getSelectedItem().getCells()[1].mProperties.text;this.getView().getModel("SalesOrder").setProperty("/IntercompanyPartnerName",K+", "+L);break;default:break}this.byId("selectDialog").close();this._pValueHelpDialog.destroy;this._pValueHelpDialog=null;this.getView().destroyDependents()},beforeGo:function(e){var t,r,s;t=this.getView().getModel("smartValueHelpModel").getProperty("/EntitySet");switch(t){case"ZSD_CDS_B_FAST_ENTRY_ITEMS":var a=this.getView().getModel("SalesOrder").getProperty("/SalesContract");var r=e.getParameter("bindingParams");var s=new sap.ui.model.Filter("SalesContract","EQ",a);r.filters.push(s);break;case"ZSD_CDS_B_ShippingType_VH":var r=e.getParameter("bindingParams");var s=new sap.ui.model.Filter("ModeOfTransport","EQ","03");var i=new sap.ui.model.Filter("ModeOfTransport","EQ","07");r.filters.push(s);r.filters.push(i);break;case"ZSD_CDS_B_ShipTo_VH":var r=e.getParameter("bindingParams");var l=this.getView().getModel("SalesOrder").getProperty("/kunnr");var i=new sap.ui.model.Filter("SalesOrganization","EQ",this.contract_SalesOrganization);var o=new sap.ui.model.Filter("DistributionChannel","EQ",this.contract_DistributionChannel);var n=new sap.ui.model.Filter("OrganizationDivision","EQ",this.contract_OrganizationDivision);var g=new sap.ui.model.Filter("partner","EQ",l);var d=new sap.ui.model.Filter("PartnerFunction","EQ","SH");r.filters.push(i);r.filters.push(o);r.filters.push(n);r.filters.push(g);r.filters.push(d);break;case"ZSD_CDS_B_TL_DEST":var r=e.getParameter("bindingParams");var i=new sap.ui.model.Filter("Vkorg","EQ",this.contract_SalesOrganization);var o=new sap.ui.model.Filter("Vtweg","EQ",this.contract_DistributionChannel);var n=new sap.ui.model.Filter("Spart","EQ",this.contract_OrganizationDivision);r.filters.push(i);r.filters.push(o);r.filters.push(n);break;case"ZSD_CDS_B_TL_DEST2":var h=this.getView().getModel("SalesOrder").getProperty("/zzdestid");var r=e.getParameter("bindingParams");var s=new sap.ui.model.Filter("Destid","EQ",h);r.filters.push(s);break;case"ZSD_CDS_B_LICENSE_VH":var r=e.getParameter("bindingParams");var o=new sap.ui.model.Filter("matnr","EQ",this.contract_Matnr);r.filters.push(o);var n=new sap.ui.model.Filter("bukrs_vf","EQ",this.contract_bukrs);r.filters.push(n);var u=this.getView().getModel("SalesOrder").getProperty("/ShipToParty");var g=new sap.ui.model.Filter("ShipToParty","EQ",u);r.filters.push(g);break;case"ZSD_CDS_B_HANDLINGTYPE_VH":var r=e.getParameter("bindingParams");var c=this.getView().getModel("SalesOrder").getProperty("/zzhandid");var i=new sap.ui.model.Filter("HandID","EQ",c);r.filters.push(i);break;case"ZSD_CDS_B_IntPartner_VH":var S=this.getView().getModel("SalesOrder").getProperty("/SalesOrganization");var p=this.getView().getModel("SalesOrder").getProperty("/DistributionChannel");var O=this.getView().getModel("SalesOrder").getProperty("/OrganizationDivision");var m=this.getView().getModel("SalesOrder").getProperty("/kunnr");var r=e.getParameter("bindingParams");var i=new sap.ui.model.Filter("partner","EQ",m);r.filters.push(i);var o=new sap.ui.model.Filter("SalesOrganization","EQ",S);r.filters.push(o);var n=new sap.ui.model.Filter("DistributionChannel","EQ",p);r.filters.push(n);var g=new sap.ui.model.Filter("OrganizationDivision","EQ",O);r.filters.push(g);var d=new sap.ui.model.Filter("PartnerFunction","EQ","ZH");r.filters.push(d);break;default:break}},handleSuggestionContractItemSelect:function(e){var t=this.getView().getModel("SalesOrder").getData().to_OrdersChangeItems.results.length-1;var r=e.getParameters().selectedRow.oBindingContexts.S1.sPath.split("/")[2];var s=this.getOwnerComponent().getModel("S1").getData().results[r].ContractOrderQuantity;var a=this.getOwnerComponent().getModel("S1").getData().results[0].TargetQuantityUnit;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/ContractOrderQuantity",s);this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/ContractTargetQuantityUnit",a);var i=this.getOwnerComponent().getModel("S1").getData().results[r].OpenContractQuantity;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/OpenContractQuantity",i);var l=this.getOwnerComponent().getModel("S1").getData().results[r].TargetQuantity;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/ContractTargetQuantity",l);this.contract_Matnr=this.getOwnerComponent().getModel("S1").getData().results[r].matnr;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/matnr",this.contract_Matnr);var o=this.getOwnerComponent().getModel("S1").getData().results[r].SalesContractItem;this.getView().getModel("SalesOrder").setProperty("/to_OrdersChangeItems/results/"+t+"/SalesOrderItem",o)}})});
//# sourceMappingURL=Object_V.controller.js.map