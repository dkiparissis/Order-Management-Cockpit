<mvc:View
    controllerName="sto.controller.Object"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:form="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:ui="sap.ui.table"
    xmlns:core="sap.ui.core"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:semantic="sap.f.semantic"
>
    <semantic:SemanticPage
        id="page"
        showFooter="true"
        headerPinnable="false"
        toggleHeaderOnTitleClick="false"
        busy="{objectView>/busy}"
        busyIndicatorDelay="{objectView>/delay}"
        class="sapUiNoContentPadding"
    >
        <semantic:titleHeading>
            <HBox
                renderType="Bare"
                alignItems="Center"
            >
                <Avatar
                    src="{textModel>/Icon}"
                    displayShape="Square"
                    class="sapUiTinyMarginEnd"
                />
                <VBox renderType="Bare">
                    <Title text="{textModel>/Title}" />
                    <Label
                        text="{textModel>/Text}"
                        design="Bold"
                    />
                </VBox>
            </HBox>
        </semantic:titleHeading>

        <semantic:content>
            <VBox>
                <form:SimpleForm
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="6"
                    labelSpanM="12"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="3"
                    columnsL="3"
                    columnsM="1"
                    singleContainerFullSize="false"
                    class="customTitleNoHeight"
                >
                    <form:content>
                        <!-- <core:Title text="{textModel>/Text}"/> -->
                        <core:Title />
                        <!-- <Label text="Contract Number"/>

                        <Input id="contractNumber" value="{SalesOrder>/SalesContract}" showSuggestion="true" showValueHelp="true" 
                            valueHelpOnly="true" valueHelpRequest=".onValueHelpRequest" app:entitySet="ZSD_CDS_B_CONTRACT_VH" 
                            editable="{editableModel>/ContractNo}"/> 

                        <Label text="{i18n>ContractValidTill}"/>
                        <Text text="{path: 'SalesOrder>/ContractValidityEndDate', type:'sap.ui.model.type.Date', 
                            formatOptions:{style : 'medium',source: { pattern: 'yyyy-MM-dd' }}}"/> 
                        <Text text="{SalesOrder>/ContractValidityEndDate}"/> -->

                        <!-- <DatePicker dateValue="{SalesOrder>/ContractValidityEndDate}" editable="false">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </DatePicker> -->

                        <Label
                            text="{i18n>DestinationID}"
                            required="true"
                        />
                        <Input
                            id="inputDestinationID"
                            value="{stoData>/stodestid}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onValueHelpRequest"
                            valueHelpOnly="true"
                            app:entitySet="ZMM_CDS_B_DESTINATIONID_VH"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                            valueState="{= !!${stoData>/stodestid} ? 'None': 'Error'}"
                            valueStateText="{= !!${stoData>/stodestid} ? '' : ${i18n>fieldMandatory}}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <Label text="{i18n>SupplyingPlant}" />
                        <!-- <Input id="inputSupplyPlant" value="{SalesOrder>/reswk}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZMM_CDS_B_SUPPLYPLANT_VH" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/werks}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->
                        <Text text="{stoData>/reswk}" />

                        <Label text="Supplying Plant Description" />
                        <Text text="{stoData>/SupplyingPlantDescrEN}" />

                        <!-- <Text text="{SalesOrder>/kunnr}"/>
                        <Label text="{i18n>CustomerName}"/>
                        <Text text="{SalesOrder>/name1} {SalesOrder>/land1}"/> 

                        <Label text="{i18n>Receiving Plant}"/>
                        <Input id="inputShipTo" value="{SalesOrder>/ReceivingPlant}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZMM_CDS_B_RECEIVEPLANT_VH" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/werks}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input>

                        <Label text="{i18n>ShiptoName}"/>
                        <Text text="{SalesOrder>/ShipToPartyName} {SalesOrder>/ShipToPartyLand}"/> 

                        <Label text="{i18n>IntercompanyPartner}"/>
                        <Input id="inputIntercompanyPartner" value="{SalesOrder>/IntercompanyPartner}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZSD_CDS_B_IntPartner_VH" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/IntercompKunnr}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> 

                        <Label text="Intercompany Partner Name"/>
                        <Text text="{SalesOrder>/IntercompanyPartnerName}"/> 

                        <Label text="MRN Number"/>
                        <Input value="{SalesOrder>/zzmrnssdn}" editable="{editableModel>/Zzmrnssdn}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> 

                        <core:Title/> -->

                        <!--  <Label text="{i18n>CustomerRefNumber}" required="true"/>
                        <Input value="{SalesOrder>/bstnk}" type="Text">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->

                        <!-- <Label text="{i18n>LoadingPoint}" required="true"/>
                        <Input id="inputLoadingPoint" value="{SalesOrder>/vstel}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZSD_CDS_B_TL_DEST2" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/RefDoc}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input>

                        <Label text="{i18n>SalesOrg}"/>
                        <Text text="{SalesOrder>/vkorg} {SalesOrder>/VkorgDesc}"/>

                        <Label text="{i18n>DistChannel}"/>
                        <Text text="{SalesOrder>/vtweg} {SalesOrder>/VtwegDesc}"/>

                        <Label text="{i18n>Division}"/>
                        <Text text="{SalesOrder>/spart} {SalesOrder>/SpartDesc}"/>

                        <Label text="{i18n>Plant}"/>
                        <Text text="{SalesOrder>/werks} {SalesOrder>/WerksDesc}"/>

                        <Label text="{i18n>SalesOrderType}"/>
                        <Text text="{SalesOrder>/auart} {SalesOrder>/AuartDesc}"/> 

                        <Label text="Handling ID" required="true"/>
                        <Input id="inputHandleCode" value="{SalesOrder>/zzhandid}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZSD_CDS_B_HANDID_VH" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/Zzhandid}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input>

                        <Label text="Handling ID Description"/>
                        <Text text="{SalesOrder>/zzhandid_desc}"/> -->

                        <Label
                            text="MOT"
                            required="true"
                        />
                        <Input
                            id="inputMot"
                            value="{stoData>/motid}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onValueHelpRequest"
                            valueHelpOnly="true"
                            app:entitySet="ZMM_CDS_B_MODEOFTRANSPORT_VH"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                            valueState="{= !!${stoData>/motid} ? 'None': 'Error'}"
                            valueStateText="{= !!${stoData>/motid} ? '' : ${i18n>fieldMandatory}}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <Label text="MOT Description" />
                        <Text text="{stoData>/motDescVal}" />

                        <core:Title />

                        <!-- + evkontos 16.4.2024: Hardcoded values -->
                        <Label text="Purch.Doc.Type" />

                        <Text text="{stoData>/bsart}" />
                        <!-- <Text text="{= !!${stoData>/stodestid} ? 'ZH90: Fuel-Stock Transport' : ''}"/> -->

                        <Label
                            text="Incoterm"
                            required="true"
                        />
                        <!-- ModeOfTransport -->
                        <Input
                            id="incoterm"
                            value="{stoData>/Incoterm}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onValueHelpRequest"
                            valueHelpOnly="true"
                            app:entitySet="C_MM_IncotermValueHelp"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                            valueState="{= !!${stoData>/Incoterm} ? 'None': 'Error'}"
                            valueStateText="{= !!${stoData>/Incoterm} ? '' : ${i18n>fieldMandatory}}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <!-- <Label text=""/>
                        <Text/> -->

                        <!-- <Label text="Shipping Type" required="true"/> -->
                        <!-- ModeOfTransport -->
                        <!-- <Input id="inputModeofTransport" value="{SalesOrder>/ShippingType}" type="Text" showValueHelp="true" 
                            valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="ZSD_CDS_B_ShippingType_VH" 
                            app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                            app:descriptionKey="Name" editable="{editableModel>/ContractNo}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->

                        <!-- <Label text="Shipping Type Description"/>
                        <Text text="{SalesOrder>/ShippingTypeDesc}"/> -->

                        <Label text="{i18n>CarrierCode}" />
                        <Input
                            id="inputCarrierCode"
                            value="{stoData>/zzvendor}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onValueHelpRequest"
                            valueHelpOnly="true"
                            showClearIcon="true"
                            liveChange="onClearButtonPress"
                            app:entitySet="ZSD_CDS_B_CARRIER_VH"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <Label text="Carrier Name" />
                        <Text
                            text="{stoData>/zzvendorName} {stoData>/zzvendorLand}"
                        />

                        <!-- <Label text="{i18n>DeliveryDate}"/>
                        <DatePicker dateValue="{SalesOrder>/vdatu}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </DatePicker> -->

                        <!-- <Input value="{SalesOrder>/zzdrivercode}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->

                        <!-- { + evkontos 16.4.2024 -->
                        <Label text="Company Code" />
                        <Text text="{stoData>/bukrs} {stoData>/CompanyName}" />

                        <Label text="Purch. Organization" />
                        <Text
                            text="{stoData>/ekorg} {stoData>/PurchOrgDescr}"
                        />

                        <Label text="Purch. Group" />
                        <Text
                            text="{stoData>/ekgrp} {stoData>/PurchGroupDescr}"
                        />
                        <Label text="Handling ID"/>
                        <Input id="inputHandleCode" value="{stoData>/zzhandid}" type="Text" 
                            showValueHelp="true" valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" 
                            showClearIcon="true" liveChange="onClearButtonPress"
                            app:entitySet="ZSD_CDS_B_HANDID_VH" app:filter1="Key|Text" app:column1="Key" 
                            app:column2="Name" app:key="Key" app:value="Key" app:descriptionKey="Name" 
                            editable="{= ${viewModel>/mode} !== 'display'}">
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>
                        <!-- } + evkontos 16.4.2024 -->

                        <core:Title />

                        <Label text="{i18n>DriverID}" />
                        <Input
                            id="inputDriverCode"
                            value="{stoData>/zzdrivercode}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onValueHelpRequest"
                            valueHelpOnly="true"
                            app:entitySet="DriverVHSet"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <!-- <Label text="{i18n>DriverName}"/> -->
                        <!-- <Input value="{SalesOrder>/zzdriverfname}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->
                        <!-- <Text text="{SalesOrder>/zzdriverfname}"/> -->

                        <Label text="{i18n>DriverFName}" />
                        <Text text="{stoData>/zz_driverfname}" />

                        <Label text="{i18n>DriverLName}" />
                        <Text text="{stoData>/zz_driverlname}" />

                        <Label
                            text="{i18n>VehicleID}"
                            required="true"
                        />
                        <Input
                            id="inputVehicleCode"
                            value="{stoData>/zzvehicle}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onVehicleValueHelpRequest"
                            valueHelpOnly="true"
                            app:entitySet="VehicleVHSet"
                            app:filter1="Key|Text"
                            app:column1="Key"
                            app:column2="Name"
                            app:key="Key"
                            app:value="Key"
                            app:descriptionKey="Name"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                            valueState="{= !!${stoData>/zzvehicle} ? 'None': 'Error'}"
                            valueStateText="{= !!${stoData>/zzvehicle} ? '' : ${i18n>fieldMandatory}}"
                        >
                            <customData>
                                <core:CustomData
                                    key="vehicleType"
                                    value="truck"
                                />
                            </customData>
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <!-- <Input value="{SalesOrder>/zzvehicle}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> 
                        </Input> -->

                        <Label text="{i18n>TrailerID}" />
                        <!-- <Input value="{SalesOrder>/zztrailer}" editable="{editableModel>/onlyDisplay}">
                            <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData>
                        </Input> -->
                        <!-- + evkontos 24.4.2024 -->
                        <Input
                            value="{stoData>/zztrailer}"
                            type="Text"
                            showValueHelp="true"
                            valueHelpRequest="onVehicleValueHelpRequest"
                            valueHelpOnly="true"
                            editable="{= !!${stoData>/zzvehicle} &amp;&amp; ${viewModel>/mode} !== 'display'}"
                        >
                            <customData>
                                <core:CustomData
                                    key="vehicleType"
                                    value="trail"
                                />
                            </customData>
                        </Input>

                        <Label
                            text="{i18n>CardID}"
                            required="true"
                        />
                        <Input
                            value="{stoData>/zz_cardid}"
                            maxLength="4"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                            valueState="{= !!${stoData>/zz_cardid} ? 'None': 'Error'}"
                            valueStateText="{= !!${stoData>/zz_cardid} ? '' : ${i18n>fieldMandatory}}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <Label text="{i18n>SealID}" />
                        <Input
                            value="{stoData>/zz_seal_po}"
                            editable="{= ${viewModel>/mode} !== 'display'}"
                        >
                            <!-- <layoutData>
                                <l:GridData span="XL2 L5 M4 S4"/>
                            </layoutData> -->
                        </Input>

                        <!-- <Label text="Brand"/>
                        <Select id="select" showSecondaryValues="true" items="{ path: 'oModelbrand>/items' }" 
                            editable="{editableModel>/ContractNo}">
                            <core:ListItem text="{oModelbrand>Brand}"/>
                        </Select> -->
                    </form:content>
                </form:SimpleForm>

                <ui:Table
                    rows="{path: 'stoData>/stoItems'}"
                    visibleRowCount="{stoData>/stoItems/length}"
                    ariaLabelledBy="title"
                    id="stoItem"
                    selectionMode="None"
                    enableColumnFreeze="true"
                    class="sapUiTinyMargin"
                    enableColumnReordering="true"
                >
                    <ui:extension>
                        <OverflowToolbar style="Clear">
                            <Title text="Items ({stoData>/stoItems/length})" />
                            <ToolbarSpacer />
                            <!-- <Button icon="sap-icon://add" text="{i18n>Add}" type="Accept" press=".onPressNewLine" 
                                visible="{editableModel>/AddBtn}"/> -->
                        </OverflowToolbar>
                    </ui:extension>
                    <ui:columns>
                        <ui:Column
                            hAlign="End"
                            width="4rem"
                            visible="{= ${viewModel>/mode} !== 'display'}"
                        >
                            <Label text="" />
                            <ui:template>
                                <!--<Button icon="sap-icon://decline" type="Reject" press=".onPressDeleteLine"/> -->
                                <HBox
                                    renderType="Bare"
                                    alignItems="Center"
                                >
                                    <Button
                                        icon="sap-icon://delete"
                                        type="Reject"
                                        press=".onPressDeleteLine"
                                        class="sapUiTinyMarginEnd"
                                        visible="{= !${stoData>menge} &amp;&amp; ${stoData>indicator} !== 'D'}"
                                        tooltip="Delete item"
                                    />
                                    <core:Icon
                                        src="sap-icon://sys-cancel-2"
                                        color="Negative"
                                        tooltip="Item will be deleted"
                                        visible="{= ${stoData>indicator} === 'D'}"
                                        class="sapUiTinyMarginEnd"
                                    />
                                    <!-- <Text text="{= !!${stoData>ebelp} ? ${stoData>ebelp} : ${stoData>SalesContractItem}}"/> -->
                                </HBox>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="{i18n>STOItemNo}" />
                            <ui:template>
                                <Input
                                    value="{stoData>ebelp}"
                                    editable="false"
                                />

                                <!-- <Input id="inputContractItem" value="{SalesOrder>SalesOrderItem}" type="Text" showSuggestion="true" 
                                    showValueHelp="true" valueHelpRequest="onValueHelpRequest" app:entitySet="ZSD_CDS_B_FAST_ENTRY_ITEMS" 
                                    app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                                    app:descriptionKey="Name" editable="{editableModel>/ContractNo}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Input> -->
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label
                                text="{i18n>MaterialNo}"
                                required="true"
                            />
                            <ui:template>
                                <Input
                                    id="metNo"
                                    value="{stoData>matnr}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    valueHelpOnly="true"
                                    valueHelpRequest=".onValueHelpRequest"
                                    app:entitySet="ZMM_CDS_B_MATERIAL_VH"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    valueState="{= !!${stoData>matnr} ? 'None': 'Error'}"
                                    valueStateText="{= !!${stoData>matnr} ? '' : ${i18n>fieldMandatory}}"
                                />
                                <!-- <Text text="{SalesOrder>matnr}" editable="{editableModel>/ContractNo}"/> 
                                 <Input showSuggestion="true" editable="{editableModel>/ContractNo}" 
                                    suggestionItems="{ path: 'SalesOrder>ZSD_CDS_B_FAST_ENTRY_ITEMS' }">
                                    <core:ListItem text="{matnr}"/>
                                </Input>

                                <Input showSuggestion="true" value="{SalesOrder>matnr}" editable="{editableModel>/ContractNo}" 
                                    suggestionItems="{  path:'S1>/results'}" suggestionItemSelected="handleSuggestionContractItemSelect">
                                    <core:ListItem text="{S1>matnr}"/>
                                </Input>
                            </ui:template>
                        </ui:Column>
                        <ui:Column width="11rem">
                            <Label text="{i18n>MaterialDescrip}"/>
                            <ui:template>
                                <Input value="{SalesOrder>TargetQuantity}"/> -->
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label
                                text="{i18n>DeliveryDate}"
                                required="true"
                            />
                            <ui:template>
                                <DatePicker
                                    dateValue="{stoData>eindt}"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    valueState="{= !!${stoData>eindt} ? 'None': 'Error'}"
                                    valueStateText="{= !!${stoData>eindt} ? '' : ${i18n>fieldMandatory}}"
                                >
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M4 S4" />
                                    </layoutData>
                                </DatePicker>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label
                                text="Quantity"
                                required="true"
                            />
                            <ui:template>
                                <Input
                                    value="{path: 'stoData>menge', type: 'sap.ui.model.type.Float'}"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    tooltip="({stoData>zzvehicle} / {stoData>zztrailer})"
                                    change="onMaterialQtyUoMChange"
                                    valueState="{parts:['stoData>menge', 
                                                        'stoData>meins',
                                                        'stoData>TargetQuantityConv', 
                                                        'stoData>zz_compcap_po', 
                                                        'stoData>zz_compcapuom_po'], formatter: '.formatter.materialQtyStateFormatter'}"
                                    valueStateText="{parts:['stoData>menge', 
                                                        'stoData>meins',
                                                        'stoData>TargetQuantityConv', 
                                                        'stoData>zz_compcap_po', 
                                                        'stoData>zz_compcapuom_po'], formatter: '.formatter.materialQtyStateTextFormatter'}"
                                />
                                <!-- <Text text="{SalesOrder>ContractTargetQuantityUnit}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text> -->
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label
                                text="Unit Of Measure"
                                required="true"
                            />
                            <ui:template>
                                <!-- <Input value="{SalesOrder>BaseUnit}"/> -->
                                <Select
                                    items="{uomData>/}"
                                    selectedKey="{stoData>meins}"
                                    forceSelection="false"
                                    valueState="{= !!${stoData>meins} ? 'None': 'Error'}"
                                    width="100%"
                                    valueStateText="{= !!${stoData>meins} ? '' : ${i18n>fieldMandatory}}"
                                    change="onMaterialQtyUoMChange"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                >
                                    <core:ListItem
                                        key="{uomData>uom}"
                                        text="{uomData>Descr}"
                                    />
                                </Select>
                                <!-- <Text text="{SalesOrder>ContractTargetQuantityUnit}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text> -->
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Comp Number" />
                            <ui:template>
                                <Input
                                    value="{stoData>zz_comp_po}"
                                    editable="false"
                                />
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Comp Capacity" />
                            <ui:template>
                                <Input
                                    value="{path: 'stoData>zz_compcap_po', type: 'sap.ui.model.type.Float'}"
                                    editable="false"
                                />
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Unit Of Measure" />
                            <ui:template>
                                <Input
                                    value="{stoData>zz_compcapuom_po}"
                                    editable="false"
                                />
                            </ui:template>
                        </ui:Column>

                        <!-- <ui:Column width="11rem">
                            <Label text="{i18n>Comp Number}"/>
                            <ui:template>
                                <Input value="{SalesOrder>zzcomp}" editable="{editableModel>/ContractNo}"/>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="{i18n>Comp Capacity}"/>
                            <ui:template>
                                <Input value="{SalesOrder>zzcompcap}" editable="{editableModel>/ContractNo}"/>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Unit of Measure"/>
                            <ui:template>
                                <Input value="{SalesOrder>zzcompcapuom}" editable="{editableModel>/ContractNo}"/>
                            </ui:template>
                        </ui:Column> 

                        <ui:Column width="11rem">
                            <Label text="Handling Type"/>
                            <ui:template>
                                <Input id="handlingtype" value="{SalesOrder>oihantyp}" showSuggestion="true" showValueHelp="true" 
                                    valueHelpOnly="true" valueHelpRequest=".onValueHelpRequest" app:entitySet="ZSD_CDS_B_HANDLINGTYPE_VH" 
                                    editable="{editableModel>/ContractNo}"/>
                            </ui:template>
                        </ui:Column> -->

                        <ui:Column width="11rem">
                            <Label
                                text="Valuation Type"
                                required="true"
                            />
                            <ui:template>
                                <!-- <Input value="{SalesOrder>valtype}" editable="{editableModel>/ContractNo}"/> -->
                                <Input
                                    id="valtype"
                                    value="{stoData>bwtar}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    valueHelpOnly="true"
                                    valueHelpRequest=".onValueHelpRequest"
                                    app:entitySet="ZMM_CDS_B_VALTYPE_VH"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    valueState="{= !!${stoData>bwtar} ? 'None': 'Error'}"
                                    valueStateText="{= !!${stoData>bwtar} ? '' : ${i18n>fieldMandatory}}"
                                />
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label
                                text="Rec Plant"
                                required="true"
                            />
                            <ui:template>
                                <Input
                                    id="recplant"
                                    value="{stoData>werks}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    valueHelpOnly="true"
                                    valueHelpRequest=".onValueHelpRequest"
                                    app:entitySet="ZMM_CDS_B_RECEIVEPLANT_VH"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    valueState="{= !!${stoData>werks} ? 'None': 'Error'}"
                                    valueStateText="{= !!${stoData>werks} ? '' : ${i18n>fieldMandatory}}"
                                />
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Rec Plant Description" />
                            <ui:template>
                                <Input
                                    id="recplant1"
                                    value="{stoData>werksDesc}"
                                    enabled="false"
                                    showSuggestion="true"
                                    showValueHelp="false"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                />
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Handling Type" required="true"/>
                            <ui:template>
                                <Input id="handlingtype" value="{stoData>oihantyp}" showSuggestion="true" 
                                    showValueHelp="true" valueHelpOnly="true" valueHelpRequest=".onValueHelpRequest" 
                                    app:entitySet="ZSD_CDS_B_HANDLINGTYPE_VH" 
                                    valueState="{= !!${stoData>oihantyp} ? 'None': 'Error'}"
                                    valueStateText="{= !!${stoData>oihantyp} ? '' : ${i18n>fieldMandatory}}"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"/>
                            </ui:template>
                        </ui:Column>
                        
                        <ui:Column width="11rem">
                            <Label text="License ID" />
                            <ui:template>
                                <Input
                                    id="licenseId"
                                    value="{stoData>oih_licin}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    editable="{parts:['stoData>indicator', 'viewModel>/mode'], formatter: '.formatter.deletionIndicatorFormatter'}"
                                    valueHelpOnly="true"
                                    showClearIcon="true" liveChange="onClearButtonPress"
                                    valueHelpRequest=".onValueHelpRequest"
                                    app:entitySet="ZMM_CDS_B_LICENSE_VH"
                                />
                            </ui:template>
                        </ui:Column>

                        <!-- <ui:Column width="11rem">
                            <Label text="MOT" required="true"/>
                            <ui:template>
                                <Text text="{SalesOrder>oic_mot}"/>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="MOT Description" required="true"/>
                            <ui:template>
                                <Text text="{SalesOrder>oic_motDesc}"/>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="{i18n>Incoterm}" required="true"/>
                            <ui:template>
                                <Input id="inputIncoterm" value="{SalesOrder>inco1}" type="Text" showValueHelp="true" 
                                    valueHelpRequest="onValueHelpRequest" valueHelpOnly="true" app:entitySet="C_MM_IncotermValueHelp" 
                                    app:filter1="Key|Text" app:column1="Key" app:column2="Name" app:key="Key" app:value="Key" 
                                    app:descriptionKey="Name">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M4 S4"/>
                                    </layoutData>
                                </Input>
                            </ui:template>
                        </ui:Column>

                          <ui:Column width="11rem">
                            <Label text="{i18n>ContractItemQty}"/>
                            <ui:template>
                                <Text text="{SalesOrder>ContractOrderQuantity}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="{i18n>ConsumedQty}"/>
                            <ui:template>
                                <Text text="{SalesOrder>ContractTargetQuantity}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="{i18n>OpenQty}"/>
                            <ui:template>
                                <Text text="{SalesOrder>OpenContractQuantity}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text>
                            </ui:template>
                        </ui:Column>

                        <ui:Column width="11rem">
                            <Label text="Unit of Measure"/>
                            <ui:template>
                                <Text text="{SalesOrder>ContractTargetQuantityUnit}">
                                    <layoutData>
                                        <l:GridData span="XL2 L5 M5 S4"/>
                                    </layoutData>
                                </Text>
                            </ui:template>
                        </ui:Column> -->
                    </ui:columns>
                </ui:Table>
            </VBox>
        </semantic:content>

        <semantic:footerCustomActions>
            <Button
                text="Save"
                icon="sap-icon://save"
                press="onPressSave"
                visible="{= ${viewModel>/mode} !== 'display'}"
            />
            <Button
                text="Cancel"
                icon="sap-icon://nav-back"
                press="onPressCancel"
            />
            <Button
                id="messagePopoverBtn"
                visible="false"
                icon="sap-icon://information"
                type="Neutral"
                text="Messages"
                press=".handleMessagePopoverPress"
                ariaHasPopup="Dialog"
            />
        </semantic:footerCustomActions>
    </semantic:SemanticPage>
</mvc:View>
